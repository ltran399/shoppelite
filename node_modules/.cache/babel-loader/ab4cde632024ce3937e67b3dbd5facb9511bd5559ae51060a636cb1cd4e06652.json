{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import'./Header.css';import logo from'../assets/images/logo.png';import{FaUserCircle,FaShoppingCart,FaSearch,FaTachometerAlt}from'react-icons/fa';import{CartContext}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(_ref){let{setSearchTerm}=_ref;const{cart}=useContext(CartContext);const[isLoggedIn,setIsLoggedIn]=useState(false);const[isAdmin,setIsAdmin]=useState(false);useEffect(()=>{const token=localStorage.getItem('token');const adminStatus=localStorage.getItem('isAdmin');if(token){setIsLoggedIn(true);}if(adminStatus==='true'){setIsAdmin(true);}},[]);return/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Shopee Logo\",className:\"logo\"})}),/*#__PURE__*/_jsx(\"div\",{children:\"Shopee\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"header-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for products...\",onChange:e=>setSearchTerm(e.target.value)// Update search term on input change\n,className:\"search-input\"}),/*#__PURE__*/_jsx(FaSearch,{className:\"search-icon\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-right\",children:[isLoggedIn?/*#__PURE__*/_jsx(Link,{to:\"/account\",className:\"account-button\",children:/*#__PURE__*/_jsx(FaUserCircle,{className:\"header-icon account-icon\"})}):/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"account-button\",children:/*#__PURE__*/_jsx(FaUserCircle,{className:\"header-icon account-icon\"})}),isAdmin&&/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard\",className:\"admin-link\",title:\"Admin Dashboard\",children:/*#__PURE__*/_jsx(FaTachometerAlt,{className:\"header-icon admin-dashboard-icon\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"cart-link\",children:[/*#__PURE__*/_jsx(FaShoppingCart,{className:\"header-icon cart-icon\"}),cart.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"cart-count\",children:cart.length})]})]})]});}export default Header;","map":{"version":3,"names":["React","useContext","useState","useEffect","Link","useNavigate","logo","FaUserCircle","FaShoppingCart","FaSearch","FaTachometerAlt","CartContext","jsx","_jsx","jsxs","_jsxs","Header","_ref","setSearchTerm","cart","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","token","localStorage","getItem","adminStatus","className","children","to","src","alt","type","placeholder","onChange","e","target","value","title","length"],"sources":["/Users/lamtran/Documents/GitHub/shoppelite/src/components/Header.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './Header.css';\nimport logo from '../assets/images/logo.png';\nimport { FaUserCircle, FaShoppingCart, FaSearch, FaTachometerAlt } from 'react-icons/fa';\nimport { CartContext } from '../context/CartContext';\n\nfunction Header({ setSearchTerm }) {\n  const { cart } = useContext(CartContext);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const adminStatus = localStorage.getItem('isAdmin');\n    if (token) {\n      setIsLoggedIn(true);\n    }\n    if (adminStatus === 'true') {\n      setIsAdmin(true);\n    }\n  }, []);\n\n  return (\n    <header className=\"header\">\n      <div className=\"header-left\">\n        <Link to=\"/\">\n          <img src={logo} alt=\"Shopee Logo\" className=\"logo\" />\n        </Link>\n        <div>Shopee</div>\n      </div>\n\n      <div className=\"header-center\">\n        <div className=\"search-container\">\n          <input\n            type=\"text\"\n            placeholder=\"Search for products...\"\n            onChange={(e) => setSearchTerm(e.target.value)} // Update search term on input change\n            className=\"search-input\"\n          />\n          <FaSearch className=\"search-icon\" />\n        </div>\n      </div>\n\n      <div className=\"header-right\">\n        {/* Conditionally render the account or login link based on isLoggedIn */}\n        {isLoggedIn ? (\n          <Link to=\"/account\" className=\"account-button\">\n            <FaUserCircle className=\"header-icon account-icon\" />\n          </Link>\n        ) : (\n          <Link to=\"/login\" className=\"account-button\">\n            <FaUserCircle className=\"header-icon account-icon\" />\n          </Link>\n        )}\n\n        {/* Admin Dashboard link visible only to admins */}\n        {isAdmin && (\n          <Link to=\"/admin/dashboard\" className=\"admin-link\" title=\"Admin Dashboard\">\n            <FaTachometerAlt className=\"header-icon admin-dashboard-icon\" />\n          </Link>\n        )}\n\n        {/* Shopping Cart */}\n        <Link to=\"/cart\" className=\"cart-link\">\n          <FaShoppingCart className=\"header-icon cart-icon\" />\n          {cart.length > 0 && <span className=\"cart-count\">{cart.length}</span>}\n        </Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}