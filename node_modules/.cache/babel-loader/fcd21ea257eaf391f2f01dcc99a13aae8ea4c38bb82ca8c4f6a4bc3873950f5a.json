{"ast":null,"code":"// src/components/ReviewForm.js\nimport React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ReviewForm(_ref){let{productId}=_ref;const[reviewText,setReviewText]=useState('');const[rating,setRating]=useState(5);const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:5002/api/review',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId:localStorage.getItem('userId'),// Assuming you store the logged-in user's ID in localStorage\nproductId,reviewText,rating})});if(response.ok){alert('Review submitted successfully!');setReviewText('');setRating(5);}else{const data=await response.json();alert(data.error||'Failed to submit review.');}}catch(err){console.error('Error submitting review:',err);alert('Failed to submit review.');}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Write a Review\"}),/*#__PURE__*/_jsx(\"textarea\",{value:reviewText,onChange:e=>setReviewText(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Rating:\",/*#__PURE__*/_jsx(\"select\",{value:rating,onChange:e=>setRating(Number(e.target.value)),children:[1,2,3,4,5].map(num=>/*#__PURE__*/_jsx(\"option\",{value:num,children:num},num))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Review\"})]});}export default ReviewForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ReviewForm","_ref","productId","reviewText","setReviewText","rating","setRating","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","userId","localStorage","getItem","ok","alert","data","json","error","err","console","onSubmit","children","value","onChange","target","required","Number","map","num","type"],"sources":["/Users/lamtran/Documents/ShopeeLite/shopeelite/src/components/ReviewForm.js"],"sourcesContent":["// src/components/ReviewForm.js\n\nimport React, { useState } from 'react';\n\nfunction ReviewForm({ productId }) {\n  const [reviewText, setReviewText] = useState('');\n  const [rating, setRating] = useState(5);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch('http://localhost:5002/api/review', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          userId: localStorage.getItem('userId'),  // Assuming you store the logged-in user's ID in localStorage\n          productId,\n          reviewText,\n          rating,\n        }),\n      });\n\n      if (response.ok) {\n        alert('Review submitted successfully!');\n        setReviewText('');\n        setRating(5);\n      } else {\n        const data = await response.json();\n        alert(data.error || 'Failed to submit review.');\n      }\n    } catch (err) {\n      console.error('Error submitting review:', err);\n      alert('Failed to submit review.');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h3>Write a Review</h3>\n      <textarea\n        value={reviewText}\n        onChange={(e) => setReviewText(e.target.value)}\n        required\n      />\n      <label>\n        Rating:\n        <select value={rating} onChange={(e) => setRating(Number(e.target.value))}>\n          {[1, 2, 3, 4, 5].map(num => (\n            <option key={num} value={num}>{num}</option>\n          ))}\n        </select>\n      </label>\n      <button type=\"submit\">Submit Review</button>\n    </form>\n  );\n}\n\nexport default ReviewForm;"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAgB,IAAf,CAAEC,SAAU,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CAEvC,KAAM,CAAAY,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,kCAAkC,CAAE,CAC/DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,MAAM,CAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAG;AACzCjB,SAAS,CACTC,UAAU,CACVE,MACF,CAAC,CACH,CAAC,CAAC,CAEF,GAAIK,QAAQ,CAACU,EAAE,CAAE,CACfC,KAAK,CAAC,gCAAgC,CAAC,CACvCjB,aAAa,CAAC,EAAE,CAAC,CACjBE,SAAS,CAAC,CAAC,CAAC,CACd,CAAC,IAAM,CACL,KAAM,CAAAgB,IAAI,CAAG,KAAM,CAAAZ,QAAQ,CAACa,IAAI,CAAC,CAAC,CAClCF,KAAK,CAACC,IAAI,CAACE,KAAK,EAAI,0BAA0B,CAAC,CACjD,CACF,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACF,KAAK,CAAC,0BAA0B,CAAEC,GAAG,CAAC,CAC9CJ,KAAK,CAAC,0BAA0B,CAAC,CACnC,CACF,CAAC,CAED,mBACEtB,KAAA,SAAM4B,QAAQ,CAAEpB,YAAa,CAAAqB,QAAA,eAC3B/B,IAAA,OAAA+B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB/B,IAAA,aACEgC,KAAK,CAAE1B,UAAW,CAClB2B,QAAQ,CAAGtB,CAAC,EAAKJ,aAAa,CAACI,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAC/CG,QAAQ,MACT,CAAC,cACFjC,KAAA,UAAA6B,QAAA,EAAO,SAEL,cAAA/B,IAAA,WAAQgC,KAAK,CAAExB,MAAO,CAACyB,QAAQ,CAAGtB,CAAC,EAAKF,SAAS,CAAC2B,MAAM,CAACzB,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAC,CAAE,CAAAD,QAAA,CACvE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACM,GAAG,CAACC,GAAG,eACtBtC,IAAA,WAAkBgC,KAAK,CAAEM,GAAI,CAAAP,QAAA,CAAEO,GAAG,EAArBA,GAA8B,CAC5C,CAAC,CACI,CAAC,EACJ,CAAC,cACRtC,IAAA,WAAQuC,IAAI,CAAC,QAAQ,CAAAR,QAAA,CAAC,eAAa,CAAQ,CAAC,EACxC,CAAC,CAEX,CAEA,cAAe,CAAA5B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}