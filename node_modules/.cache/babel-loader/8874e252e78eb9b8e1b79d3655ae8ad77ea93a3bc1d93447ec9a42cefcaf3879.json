{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./AccountPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AccountPage(){const[orders,setOrders]=useState([]);const navigate=useNavigate();const userId=localStorage.getItem('userId');const token=localStorage.getItem('token');useEffect(()=>{if(!token){navigate('/login');}else{fetch(`http://localhost:5002/api/user/${userId}/orders`,{headers:{Authorization:`Bearer ${token}`}}).then(response=>response.json()).then(data=>setOrders(data)).catch(error=>{console.error('Error fetching orders:',error);// Handle error case, e.g., display an error message\n});}},[userId,navigate,token]);const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('userId');navigate('/login');};return/*#__PURE__*/_jsxs(\"div\",{className:\"account-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Orders\"}),/*#__PURE__*/_jsx(\"ul\",{children:orders===null||orders===void 0?void 0:orders.map(order=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigate(`/order/${order._id}`),className:\"order-link\",children:[\"Order #\",order._id,\" - \",order.status]})},order._id))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"})]});}export default AccountPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","AccountPage","orders","setOrders","navigate","userId","localStorage","getItem","token","fetch","headers","Authorization","then","response","json","data","catch","error","console","handleLogout","removeItem","className","children","map","order","onClick","_id","status"],"sources":["/Users/lamtran/Documents/ShopeeLite/shopeelite/src/components/AccountPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './AccountPage.css';\n\nfunction AccountPage() {\n  const [orders, setOrders] = useState([]);\n  const navigate = useNavigate();\n  const userId = localStorage.getItem('userId');\n  const token = localStorage.getItem('token');\n\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n    } else {\n      fetch(`http://localhost:5002/api/user/${userId}/orders`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then(response => response.json())\n        .then(data => setOrders(data))\n        .catch(error => {\n          console.error('Error fetching orders:', error);\n          // Handle error case, e.g., display an error message\n        });\n    }\n  }, [userId, navigate, token]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('userId');\n    navigate('/login');\n  };\n\n  return (\n    <div className=\"account-container\">\n      <h2>Your Orders</h2>\n      <ul>\n        {orders?.map(order => (\n          <li key={order._id}>\n            <div onClick={() => navigate(`/order/${order._id}`)} className=\"order-link\">\n              Order #{order._id} - {order.status}\n            </div>\n          </li>\n        ))}\n      </ul>\n\n      <button onClick={handleLogout} className=\"logout-button\">\n        Logout\n      </button>\n    </div>\n  );\n}\n\nexport default AccountPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAAU,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAS,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,KAAM,CAAAC,KAAK,CAAGF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3CZ,SAAS,CAAC,IAAM,CACd,GAAI,CAACa,KAAK,CAAE,CACVJ,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,CACLK,KAAK,CAAC,kCAAkCJ,MAAM,SAAS,CAAE,CACvDK,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUH,KAAK,EAChC,CACF,CAAC,CAAC,CACCI,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,EAAIZ,SAAS,CAACY,IAAI,CAAC,CAAC,CAC7BC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C;AACF,CAAC,CAAC,CACN,CACF,CAAC,CAAE,CAACZ,MAAM,CAAED,QAAQ,CAAEI,KAAK,CAAC,CAAC,CAE7B,KAAM,CAAAW,YAAY,CAAGA,CAAA,GAAM,CACzBb,YAAY,CAACc,UAAU,CAAC,OAAO,CAAC,CAChCd,YAAY,CAACc,UAAU,CAAC,QAAQ,CAAC,CACjChB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,mBACEJ,KAAA,QAAKqB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCxB,IAAA,OAAAwB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBxB,IAAA,OAAAwB,QAAA,CACGpB,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEqB,GAAG,CAACC,KAAK,eAChB1B,IAAA,OAAAwB,QAAA,cACEtB,KAAA,QAAKyB,OAAO,CAAEA,CAAA,GAAMrB,QAAQ,CAAC,UAAUoB,KAAK,CAACE,GAAG,EAAE,CAAE,CAACL,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAC,SACnE,CAACE,KAAK,CAACE,GAAG,CAAC,KAAG,CAACF,KAAK,CAACG,MAAM,EAC/B,CAAC,EAHCH,KAAK,CAACE,GAIX,CACL,CAAC,CACA,CAAC,cAEL5B,IAAA,WAAQ2B,OAAO,CAAEN,YAAa,CAACE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAEzD,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAArB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}